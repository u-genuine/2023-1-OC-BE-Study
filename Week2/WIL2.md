# 1. 컨트롤러, 서비스, 리포지토리의 역할
MVC 패턴을 사용하는 이유는 무엇일까?  

**역할에 따른 분리로 인해서 유지보수성, 확장성, 유연성이 증가하고, 코드의 중복도 사라지는 효과 때문이다.**

## **Controller**
MVC패턴 설명과 똑같이 Controller는 MVC에서 C에 해당하며, 주로 사용자의 요청을 처리한 후 지정된 뷰에 모델 객체를 넘겨주는 역할을 한다.  

사용자의 요청이 진입하는 지점이며, 요청에 따라 어떤 처리를 할지 결정을 Service에 넘겨준다.  

그리고 Service에서 실질적으로 처리한 내용을 다시 Controller가 받고, 받은것을 View에게 넘겨준다.

### **Controller를 왜 사용할까?**
만약 대규모 서비스 중 A서비스, B서비스, C서비스 등이 있다고 하자. 그러면 이 많은 종류의 서비스를 한 클래스를 만들어서 꽉꽉 몰아 처리할것이 아니라, Controller라는 중간 제어자를 만들어서 A서비스에 대한 것은 A-Controller가 맡고, B서비스는 B-Controller 이런 식으로 역할에 따라 설계를 하고 코딩을 하면 개발 비용이나 유지보수 비용이 대폭 줄기 때문에 Controller를 사용하는 것이다.

## **Service**
서비스에는 사용자의 요구사항을 처리하는 로직이 있다.  
DB의 데이터가 필요할 때는 Repository에게 요청을 한다.  
규모 프로젝트일수록 Service의 내용이 비대해진다.  

## **Repository**
객체에 의해 생성된 DB에 접근하는 메서드들을 사용하기 위한 인터페이스다.  

쉽게 말해서 DB 연결, 해제, 자원을 관리하고 CRUD 작업을 처리한다.



# 2. TDD란? 왜 하는가?
TDD란 Test Driven Develpment의 약자로 
'테스트 주도 개발'이라고 한다.  

반복 테스트를 이용한 소프트웨어 방법론으로 작은 단위의 테스트 케이스를 작성하고, 이를 통과하는 코드를 추가하는 단계를 반복하여 구현한다.  

짧은 개발 주기의 반복에 의존하는 개발 프로세스이며, 애자일 방법론 중 하나인 eXtream Programming(XP)의 'Test-First'개념에 기반을 둔 단순한 설계를 중요시한다.  

## **eXtream Programming(XP)란?**
미래에 대한 예측을 최대한 하지 않고 지속적으로 프로토타입을 완성하는 애자일 방법론 중 하나이다.  
이 방법론은 추가 요구사항이 생기더라도 실시간으로 반영 가능하다.

## **TDD 개발주기**
<img src="./img/TDD.png">

위 그림은 TDD의 개발 주기를 표현한 것이다.
* **RED** 단계에서는 실패하는 테스트 코드를 먼저 작성한다.
* **GREEN** 단계에서는 테스트 코드를 성공시키기 위한 실제 코드를 작성한다.
* **BLUE** 단계에서는 중복 코드 제거, 일반화 등의 리팩토링을 수행한다.

중요한 것은 실패하는 테스트 코드를 작성할 때까지 실제 코드를 작성하지 않는 것과, 실패하는 테스트를 통과할 정도의 최소 실제 코드를 작성해야하는 것이다. 이를 통해 실제 코드에 대해 기대되는 바를 보다 명확하게 정의함으로써 불필요한 설계를 피할 수 있고, 정확한 요구사항에 집중할 수 있다.

***

## **TDD 개발 방식의 장점**
### **보다 튼튼한 객체 지향적인 코드 생산**
 TDD는 코드 재사용 보장을 명시하므로 TDD를 통한 소프트웨어 개발 시 기능별 철저한 모듈화가 이루어진다.  

 이는 종속성과 의존성이 낮은 모듀롤 조합된 소프트웨어 개발을 가능하게하며, 필요에 따라 모듈을 추가하거나 제거해도 소프트웨어 전체 구조에 영향을 미치지 않게 된다.


### **재설계 시간의 단축**
테스트 코드를 먼저 작성하기 때문에 개발자가 지금 무엇을 해야하는지 분명히 정의하고 개발을 시작하게 된다. 또한 테스트 시나리오를 작성하면서 다양한 예외사항에 대해 생각해 볼 수 있다. 이는 개발 진행 중 소프트웨어의 전반적인 설계가 변경되는 일을 방지할 수 있다.

### **디버깅 시간의 단축**
이는 유닛 테스팅을 하는 이점이기도하다. 예를 들면 사용자의 데이터가 잘못 나온다면 DB의 문제인지, 비즈니스 레이어의 문제인지 UI의 문제인지 알기 위해 실제 모든 레이어들을 전부 디버깅 해야하지만, TDD의 경우 자동화 된 유닛 테스팅을 전제하므로 특정 버그를 손 쉽게 찾아낼 수 있다.

### **테스트 문서의 대체 가능**
주로 SI 프로젝트 진행 과정에서 어떤 요소들이 테스트 되었는지 테스트 정의서를 만든다. 이것은 단순 통합 테스트문서에 지나지 않는다. 하지만 TDD를 하게 될 경우 테스팅을 자동화 시킴과 동시에 보다 정확한 테스트 근거를 산출 할 수 있다.

### **추가 구현의 용이함**
개발이 완료된 소프트웨어에 어떤 기능을 추가할 때 가장 우려되는 점은 해당 기능이 기존 코드에 어떤 영향을 미칠지 알지 못한다는 것이다.   

하지만 TDD의 경우 자동화된 유닛 테스팅을 전제하므로 테스트 기간을 획기적으로 단축시킬 수 있다.


